<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AoSharedServiceLibrary: ZeroMQ Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AoSharedServiceLibrary
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ZeroMQ Interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ZeroMQ is a permanent-connection alternative that provides high-speed, distributed messaging.</p>
<p>This provides Request/Reply Managers for both Inbound and Outbound sockets.</p>
<p>The <a class="el" href="classZmqio.html" title="An Interface for ZMQIO. ">Zmqio</a> object exposes these methods:</p>
<ul>
<li>crecv() - a blocking call to wait for a message, and return a C-style string</li>
<li>recv() - a blocking call to wait for a message, and return a std::string</li>
<li>send(const char * msg, int msg_size)</li>
<li>send(std::string msg)</li>
</ul>
<p>In order to connect to a socket, we ask the factory to create one: </p><pre class="fragment">#include "aossl/zmq/zmq_interface.h"
#include "aossl/zmq/factory_zmq.h"

ZmqComponentFactory zmq_factory;

//Set up the outbound ZMQ Client
Zmqio *zmqo = zmq_factory.get_zmq_outbound_interface("tcp://localhost:5555");

//Set up the inbound ZMQ Client
Zmqio *zmqi = zmq_factory.get_zmq_inbound_interface("tcp://*:5555");
</pre><h1>Thread Safety</h1>
<p>The outbound and inbound ZeroMQ Managers both have a mutex around the send() functions.</p>
<p>When using the recv() function with multiple threads, keep in mind that the resources allocated in the message MAY NOT BE PRESENT once the next message has been received. You should ensure that you take a deep copy of the message prior to passing off to another thread.</p>
<p><a class="el" href="index.html">Go Home</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
